!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.VueSticky=n():e.VueSticky=n()}(this,function(){return function(e){function n(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:l})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("Object.defineProperty(exports, \"__esModule\", { value: true });\nvar VueSticky = {\n  params: [\n    // sticky 元素固定相对屏幕高度\n    'sticky-top',\n    // fixed 时 元素的z-index\n    'z-index' ],\n  bind: function bind() {\n    var stickyTop = this.params.stickyTop || 0\n    var zIndex = this.params.zIndex || 1000\n    var element = this.el\n\n    element.style.position = '-webkit-sticky'\n    element.style.position = 'sticky'\n\n    if (~element.style.position.indexOf('sticky')) {\n      // 浏览器支持原生 sticky 效果（Currently Safari, Firefox and Chrome Canary）\n      element.style.top = stickyTop + \"px\"\n      element.style.zIndex = zIndex\n      return\n    }\n\n    var elementChild = element.firstElementChild\n    elementChild.style.left = 0\n    elementChild.style.right = 0\n    elementChild.style.top = stickyTop + \"px\"\n    elementChild.style.zIndex = zIndex\n\n    var active = false\n\n    var check = function () {\n      var offsetTop = element.getBoundingClientRect().top\n      if (offsetTop <= stickyTop) {\n        if (active) { return }\n        if (!element.style.height) {\n          element.style.height = element.clientHeight + 'px'\n        }\n        elementChild.style.position = 'fixed'\n        active = true\n      } else {\n        if (!active) { return }\n        elementChild.style.position = ''\n        active = false\n      }\n    }\n\n    var timer\n    this.__listenAction = function () {\n      if (timer) { return }\n      timer = setInterval(check, 30)\n    }\n\n    window.addEventListener('scroll', this.__listenAction)\n  },\n  unbind: function unbind() {\n    if (this.__listenAction) {\n      window.removeEventListener('scroll', this.__listenAction)\n    }\n  },\n}\n\n/* harmony default export */ exports[\"default\"] = VueSticky;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz8zZmY1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBWdWVTdGlja3kgPSB7XG4gIHBhcmFtczogW1xuICAgIC8vIHN0aWNreSDlhYPntKDlm7rlrprnm7jlr7nlsY/luZXpq5jluqZcbiAgICAnc3RpY2t5LXRvcCcsXG4gICAgLy8gZml4ZWQg5pe2IOWFg+e0oOeahHotaW5kZXhcbiAgICAnei1pbmRleCcgXSxcbiAgYmluZDogZnVuY3Rpb24gYmluZCgpIHtcbiAgICB2YXIgc3RpY2t5VG9wID0gdGhpcy5wYXJhbXMuc3RpY2t5VG9wIHx8IDBcbiAgICB2YXIgekluZGV4ID0gdGhpcy5wYXJhbXMuekluZGV4IHx8IDEwMDBcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxcblxuICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnLXdlYmtpdC1zdGlja3knXG4gICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knXG5cbiAgICBpZiAofmVsZW1lbnQuc3R5bGUucG9zaXRpb24uaW5kZXhPZignc3RpY2t5JykpIHtcbiAgICAgIC8vIOa1j+iniOWZqOaUr+aMgeWOn+eUnyBzdGlja3kg5pWI5p6c77yIQ3VycmVudGx5IFNhZmFyaSwgRmlyZWZveCBhbmQgQ2hyb21lIENhbmFyee+8iVxuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBzdGlja3lUb3AgKyBcInB4XCJcbiAgICAgIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gekluZGV4XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudENoaWxkID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZFxuICAgIGVsZW1lbnRDaGlsZC5zdHlsZS5sZWZ0ID0gMFxuICAgIGVsZW1lbnRDaGlsZC5zdHlsZS5yaWdodCA9IDBcbiAgICBlbGVtZW50Q2hpbGQuc3R5bGUudG9wID0gc3RpY2t5VG9wICsgXCJweFwiXG4gICAgZWxlbWVudENoaWxkLnN0eWxlLnpJbmRleCA9IHpJbmRleFxuXG4gICAgdmFyIGFjdGl2ZSA9IGZhbHNlXG5cbiAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb2Zmc2V0VG9wID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcbiAgICAgIGlmIChvZmZzZXRUb3AgPD0gc3RpY2t5VG9wKSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHsgcmV0dXJuIH1cbiAgICAgICAgaWYgKCFlbGVtZW50LnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQgKyAncHgnXG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudENoaWxkLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICAgICAgICBhY3RpdmUgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWFjdGl2ZSkgeyByZXR1cm4gfVxuICAgICAgICBlbGVtZW50Q2hpbGQuc3R5bGUucG9zaXRpb24gPSAnJ1xuICAgICAgICBhY3RpdmUgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0aW1lclxuICAgIHRoaXMuX19saXN0ZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGltZXIpIHsgcmV0dXJuIH1cbiAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoY2hlY2ssIDMwKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9fbGlzdGVuQWN0aW9uKVxuICB9LFxuICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcbiAgICBpZiAodGhpcy5fX2xpc3RlbkFjdGlvbikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX19saXN0ZW5BY3Rpb24pXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBWdWVTdGlja3lcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")}])});